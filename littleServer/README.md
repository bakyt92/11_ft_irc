Пример из книги Сетевое программирование от Биджа. Использование интернет сокетов.  

Запустить:  
`make`  
