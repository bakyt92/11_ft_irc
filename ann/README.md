group: https://github.com/bakyt92/11_ft_irc/blob/master/docs/plan.md   
IRC = Internet Relay Chat  
* 1988 г
* для группового общения, общаться через личные сообщения и обмениваться файлами
* на основе IRC разработано множество мессенджеров, такие как: ICQ, Skype, Discord, Telegram, Slack, etc...
* * **most public IRC servers don't usually set a connection password**
 
## Сообщения (Internet Relay Chat Protocol)
* https://www.lissyara.su/doc/rfc/rfc1459/ 
* Серверы и клиенты создают сообщения на которые можно ответить, а можно и нет
* Если сообщение содержит правильные команды, то клиенту следует ответить как полагается, но это не означает, что всегда можно дождаться ответа
* IRC-сообщения = строка символов
  + заканчивается  парой символов CR-LF
  + длина строки не превышает 512 символов (в 512 входят CR-LF) => максимальная длина строки для команд и параметров - 510 символов
* Каждое IRC-сообщение может содержать до трех главных частей:
  + эти три части разделены одним (или более) символом ` `
  + 1) префикс (опционально)
     + обозначается одним символом `:` в первой позиции
     + между префиксом и двоеточием не должно быть пробелов
     + используется серверами для обозначения источника появления сообщения
     + если префикс утерян, то за источник сообщения берут соединение, с которого было получено сообщение
     + клиентам не следует пользоваться префиксами при отсылке сообщения (принимаются только правильные префиксы и только с зарегистрированных никнеймов, если идентификаторы префиксов не будет найдены в серверных базах данных, или если они зарегистрированы с различных линков, то сервер будет игнорировать сообщение)
  + 2) команда
    + правильная IRC-команда или трехзначное число, представленное в ASCII-тексте
  + 3) параметры команды
* Перенос строки невозможен
* `<reply> ::= <nick>['*'] '=' <hostname>` '*' обозначает, что клиент зарегистрирован как IRC-оператор
* Специальнае случаи:
  + `:Angel!localhost PRIVMSG Wiz`       a message from Angel to Wiz
  + `PRIVMSG jto@localhost :Hello`       a message to a user "jto" on server localhost
  + `PRIVMSG kalt%localhost`             a message to a user on the local server with username of "kalt", and connected from the localhost
  + `PRIVMSG Wiz!jto@localhost :Hello` a message to the user with nickname Wiz who is connected from the localhostand has the username "jto"
*  most public IRC servers don't usually set a connection password
  + PASS only required if a password is required to connect to a serve
* subject: Le serveurs n'a le droit qu'a **un seul send() par client pour chaque poll() ou select()** 

## TCP
* гарантирует надёжность с точки зрения потока (UDP не гарантирует) 
* есть ненадёжность машин в сети
* не гарантирует, что каждый send() будет принят (recv()) соединением
* TCP какое-то время хранит данные в своём буфере отправки, но в конечном итоге сбросит данные по таймауту
* send() возвращает успешное выполнение, не зная, было ли сообщение успешного получено на стороне recv()
* в случае разъединения потеряем данные
* разработчик решает, как приложение реагирует на неожиданные разъединения
  + насколько сильно вы будете пытаться узнать, действительно ли получающее приложение получило каждый бит
  + подтверждающие сообщения
  + разметка сообщений идентификаторами
  + создание буфера
  + повторная отправка сообщений
  + таймауты, связанные с каждым сообщением
  + хранить пакеты данных на жёстком диске, тогда если возникнет сбой, то позже попытаться отправить эти данные
  + разъединение во время длительных операций; когда две машины восстановят связь, можно будет передать результаты операции
  + определять, насколько важно подтверждать доставку в каждом конкретном случае
  + прикладывать большие усилия к тому, чтобы подтвердить завершение длительной операции, но смириться с утерей данных, сообщающих о степени выполнения операции
  + многие приложения завершают работу, если происходит отключение в неожиданный момент
  + отдельный цикл переподключения, который будет какое-то время спать, а затем пытаться переподключиться и если это удастся, продолжить обычную работу
  + обрабатывать потенциальные разъединения при любом вызове recv()
  + обрабатывать потенциальные ошибки разъединения при каждом вызове
  + отключить оповещения при recv(), чтобы обрабатывать ошибку подключения линейно, не регистрировать для этого обработчик сигналов
