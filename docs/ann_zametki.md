## Сообщения (Internet Relay Chat Protocol - RFC 1459)
* https://www.lissyara.su/doc/rfc/rfc1459/ 
* Серверы и клиенты создают сообщения на которые можно ответить, а можно и нет
* Если сообщение содержит правильные команды, то клиенту следует ответить как полагается, но это не означает, что всегда можно дождаться ответа
* IRC-сообщения = строка символов
  + заканчивается  парой символов CR-LF
  + длина строки не превышает 512 символов (в 512 входят CR-LF) => максимальная длина строки для команд и параметров - 510 символов
* Каждое IRC-сообщение может содержать до трех главных частей:
  + эти три части разделены одним (или более) символом ` `
  + 1) префикс (опционально)
     + обозначается одним символом `:` в первой позиции
     + между префиксом и двоеточием не должно быть пробелов
     + используется серверами для обозначения источника появления сообщения
     + если префикс утерян, то за источник сообщения берут соединение, с которого было получено сообщение
     + клиентам не следует пользоваться префиксами при отсылке сообщения (принимаются только правильные префиксы и только с зарегистрированных никнеймов, если идентификаторы префиксов не будет найдены в серверных базах данных, или если они зарегистрированы с различных линков, то сервер будет игнорировать сообщение)
  + 2) команда
    + правильная IRC-команда или трехзначное число, представленное в ASCII-тексте
  + 3) параметры команды
     + до 15 параметров
* Перенос строки невозможен
* `<reply> ::= <nick>['*'] '=' <hostname>` '*' обозначает, что клиент зарегистрирован как IRC-оператор
* Специальнае случаи, которые навернео нам не нужны
  + `:Angel!localhost PRIVMSG Wiz`       a message from Angel to Wiz
  + `PRIVMSG jto@localhost :Hello`       a message to a user "jto" on server localhost
  + `PRIVMSG kalt%localhost`             a message to a user on the local server with username of "kalt", and connected from the localhost
  + `PRIVMSG Wiz!jto@localhost :Hello` a message to the user with nickname Wiz who is connected from the localhostand has the username "jto"
* Сообщение NOTICE используеьтся подобно PRIVMSG.
  + Отличия между ними в том, что на NOTICE-сообщение ждать автоматического ответа бесполезно.
  + Это правило распространяется и на серверы, - они не должны отсылать обратно сообщения-NOTICE клиентам, содержащие ошибки.
  + Обьект этого правила заключается в петле между клиентом, автоматически посылающим что-либо в ответ на что-либо полученное.
  + Обычно это используется автоматами (клиентами с AI или другой интерактивной программой, управляющей их действиями).
  
## poll() 
* attend que l'un des descripteurs de fichier parmi un ensemble soit prêt pour effectuer des entrées-sorties
* l'ensemble des descripteurs de fichier à surveiller est indiqué dans l'argument fds qui est un tableau de structures nfds du type :
```
struct pollfd {
    int   fd;         
    short events;     /* Événements attendus    */
    short revents;    /* Événements détectés    */
};
```
